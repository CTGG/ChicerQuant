require.config({paths:{echarts:"build/dist"}});require(["echarts","echarts/chart/k","echarts/chart/bar","echarts/chart/line"],function(i){var d,b;var g=angular.element(document.getElementById("main1"));var k=g.scope();var e=JSON.stringify(k.ktest);var f;var j=[];var c=[];var a=[];var h=k.test;setTimeout(function(){f=k.kLineResult;for(var q in f){j[q]=f[q].date;c[q]=[f[q].open,f[q].close,f[q].high,f[q].low];a[q]=f[q].volumn}console.log(a);var n=i.init(document.getElementById("main1"));var r=i.init(document.getElementById("main2"));var p=i.init(document.getElementById("main3"));var o={title:{text:"2016年腾讯科技",textStyle:{color:"#ffffff",fontSize:20}},tooltip:{trigger:"axis",showDelay:0,formatter:function(t){var s=t[0].name;s+="<br/>"+t[0].seriesName;s+="<br/>  开盘 : "+t[0].value[0]+"  最高 : "+t[0].value[3];s+="<br/>  收盘 : "+t[0].value[1]+"  最低 : "+t[0].value[2];return s}},legend:{data:["上证指数","成交金额(万)","成交量"],textStyle:{color:"#ffffff"},x:"right",y:"top"},dataZoom:{y:250,show:true,realtime:true,start:50,end:100},grid:{x:80,y:40,x2:20,y2:25},xAxis:[{type:"category",boundaryGap:true,axisTick:{onGap:false},splitLine:{show:false},data:j,axisLabel:{show:true,textStyle:{color:"#ffffff"}}}],yAxis:[{type:"value",scale:true,boundaryGap:[0.05,0.05],splitArea:{show:true},axisLabel:{show:true,textStyle:{color:"#ffffff"}}}],series:[{name:"腾讯科技",type:"k",data:c},{name:"成交金额(万)",type:"line",symbol:"none",data:[]},{name:"成交量",type:"bar",data:[]}]};var m={tooltip:{trigger:"axis",showDelay:0},legend:{y:-30,data:["上证指数","成交金额(万)","成交量"]},toolbox:{y:-30,show:true,feature:{mark:{show:true},dataZoom:{show:true},dataView:{show:true,readOnly:false},magicType:{show:true,type:["line","bar"]},restore:{show:true},saveAsImage:{show:true}}},dataZoom:{show:true,realtime:true,start:50,end:100},grid:{x:80,y:5,x2:20,y2:40},xAxis:[{type:"category",position:"top",boundaryGap:true,axisLabel:{show:false},axisTick:{onGap:false},splitLine:{show:false},data:j,axisLabel:{show:true,textStyle:{color:"#ffffff"}}}],yAxis:[{type:"value",scale:true,splitNumber:3,boundaryGap:[0.05,0.05],axisLabel:{formatter:function(s){return Math.round(s/10000)+" 万"}},splitArea:{show:true},axisLabel:{show:true,textStyle:{color:"#ffffff"}}}],series:[{name:"成交金额(万)",type:"line",symbol:"none",data:a,markLine:{symbol:"none",itemStyle:{normal:{color:"#1e90ff",label:{show:false}}},data:[{type:"average",name:"平均值"}]}}]};r.setOption(m);var l={tooltip:{trigger:"axis",showDelay:0},legend:{y:-30,data:["上证指数","成交金额(万)","成交量"]},toolbox:{y:-30,show:true,feature:{mark:{show:true},dataZoom:{show:true},dataView:{show:true,readOnly:false},magicType:{show:true,type:["line","bar"]},restore:{show:true},saveAsImage:{show:true}}},dataZoom:{y:200,show:true,realtime:true,start:50,end:100},grid:{x:80,y:5,x2:20,y2:30},xAxis:[{type:"category",position:"bottom",boundaryGap:true,axisTick:{onGap:false},splitLine:{show:false},data:j,axisLabel:{show:true,textStyle:{color:"#ffffff"}}}],yAxis:[{type:"value",scale:true,splitNumber:3,boundaryGap:[0.05,0.05],axisLabel:{formatter:function(s){return Math.round(s/10000)+" 万"}},splitArea:{show:true},axisLabel:{show:true,textStyle:{color:"#ffffff"}}}],series:[{name:"成交量",type:"bar",symbol:"none",data:[h[0].volumn,h[1].volumn,h[2].volumn,h[3].volumn,h[4].volumn,h[5].volumn],markLine:{symbol:"none",itemStyle:{normal:{color:"#1e90ff",label:{show:false}}},data:[{type:"average",name:"平均值"}]}}]};p.setOption(l);n.setOption(o);n.connect([r,p]);r.connect([n,p]);p.connect([n,r]);setTimeout(function(){window.onresize=function(){n.resize();r.resize();p.resize()}},200)},1000)});